<img id="logo" src="./assets/img/logo_medium.png"></img>
<div id="main_menu">
	<div class="box" style="height: 290px">
		<div class="box_border_left"></div>
		<div class="box_border_right"></div>
		<div class="box_border_top"></div>
		<div class="box_border_bottom"></div>
		<div class="box_corner_tl"></div>
		<div class="box_corner_tr"></div>
		<div class="box_corner_bl"></div>
		<div class="box_corner_br"></div>
		<div class="box_header">
			Grafika
		</div>
		<div class="box_content">
			<div class="box_inside">
				<form action="#">
					<label for="settings_screen_resolution">Rozdzielczość</label>
					<select name="settings_screen_resolution" id="settings_screen_resolution">
						<option value="1920x1080">1920 x 1080</option>
						<option value="1680x1050">1680 x 1050</option>
						<option value="1366x768">1366 x 768</option>
						<option value="1280x720">1280 x 720</option>
						<option value="1024x768">1024 x 768</option>
						<option value="800x600">800 x 600</option>
					</select>

					<label for="settings_display">Wyświetlanie</label>
					<select name="settings_display" id="settings_display">
						<option value="window">Okno</option>
						<option value="fullscreen">Pełny ekran</option>
					</select>

					<label for="settings_shadows_quality">Dokładność cieni</label>
					<select name="settings_shadows_quality" id="settings_shadows_quality">
						<option value="3">Dokładne</option>
						<option value="2">Optymalne</option>
						<option value="1">Wydajne</option>
					</select>
				</form>
			</div>
		</div>
	</div>
	<button id="save_settings" onclick="MenuState.loadContent('menu_settings')" style="margin-top: 22px">Zapisz i wróć</button>
	<button onclick="MenuState.loadContent('menu_settings')">Wróć</button>
</div>
<div id="bottom_dark_gradient"></div>
<div id="left_footer">v0.1</div>
<div id="right_footer">NexTeam &copy;</div>
<script type="text/javascript">
	$(document).ready(function()
	{
		var resolutionStr = config.video.resolution.width + 'x' + config.video.resolution.height;
		$('select#settings_screen_resolution').val(resolutionStr).attr('selected', 'selected');
		$('select#settings_display').val(config.video.display).attr('selected', 'selected');
		$('select#settings_shadows_quality').val(config.video.shadowsQuality).attr('selected', 'selected');

		$('button#save_settings').click(function()
		{
			var resolution     = $('select#settings_screen_resolution').val();
			var display        = $('select#settings_display').val();
			var shadowsQuality = $('select#settings_shadows_quality').val();

			resolution = resolution.split('x');
			var updatedData =
			{
				video:
				{
					resolution:
					{
						width: parseInt(resolution[0]),
						height: parseInt(resolution[1])
					},
					display: display,
					shadowsQuality: shadowsQuality
				}
			};

			Config.save(updatedData, true);
		});
	});
</script>